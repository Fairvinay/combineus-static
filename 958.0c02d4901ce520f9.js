(self.webpackChunkbudget=self.webpackChunkbudget||[]).push([[958],{3338:function(N,f,o){"use strict";o.d(f,{r:function(){return d}});var c=o(5671),i=o(3144),e=o(2868),r=o(9913),u=o(6903),t=o(9299),d=function(){var g=function(){function p(w,A){(0,c.Z)(this,p),this.expenseCategoryApi=w,this.categoriesState=A}return(0,i.Z)(p,[{key:"isUpdating$",value:function(){return this.categoriesState.isUpdating$()}},{key:"getExpenseCategories$",value:function(){return this.categoriesState.getExpenseCategories$()}},{key:"loadExpenseCategories",value:function(){var A=this;return this.expenseCategoryApi.getExpenseCategories().pipe((0,e.b)(function(_){return A.categoriesState.setExpenseCategories(_)}))}},{key:"addExpenseCategory",value:function(A){var _=this;this.categoriesState.addExpenseCategory(A),this.expenseCategoryApi.createExpenseCategory(A).subscribe(function(E){return _.categoriesState.updateExpenseCategoryId(A,E)},function(E){_.categoriesState.removeExpenseCategory(A),console.log(E)})}},{key:"updateExpenseCategory",value:function(A){var _=this;this.categoriesState.setUpdating(!0),this.expenseCategoryApi.updateExpenseCategory(A).subscribe(function(){return _.categoriesState.updateExpenseCategory(A)},function(E){return console.log(E)},function(){return _.categoriesState.setUpdating(!1)})}}]),p}();return g.\u0275fac=function(w){return new(w||g)(u.LFG(r.O),u.LFG(t.t))},g.\u0275prov=u.Yz7({token:g,factory:g.\u0275fac}),g}()},9299:function(N,f,o){"use strict";o.d(f,{t:function(){return t}});var c=o(4902),i=o(5671),e=o(3144),r=o(591),u=o(6903),t=function(){var d=function(){function g(){(0,i.Z)(this,g),this.updating$=new r.X(!1),this.expenseCategories$=new r.X(null)}return(0,e.Z)(g,[{key:"isUpdating$",value:function(){return this.updating$.asObservable()}},{key:"setUpdating",value:function(w){this.updating$.next(w)}},{key:"getExpenseCategories$",value:function(){return this.expenseCategories$.asObservable()}},{key:"setExpenseCategories",value:function(w){this.expenseCategories$.next(w)}},{key:"addExpenseCategory",value:function(w){var A=this.expenseCategories$.getValue();this.expenseCategories$.next([].concat((0,c.Z)(A),[w]))}},{key:"updateExpenseCategory",value:function(w){var A=this.expenseCategories$.getValue(),_=A.findIndex(function(E){return E.id===w.id});A[_]=w,this.expenseCategories$.next((0,c.Z)(A))}},{key:"updateExpenseCategoryId",value:function(w,A){var _=this.expenseCategories$.getValue(),E=_.findIndex(function(B){return B===w});_[E]=A,this.expenseCategories$.next((0,c.Z)(_))}},{key:"removeExpenseCategory",value:function(w){var A=this.expenseCategories$.getValue();this.expenseCategories$.next(A.filter(function(_){return _!==w}))}}]),g}();return d.\u0275fac=function(p){return new(p||d)},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac}),d}()},6989:function(N,f,o){"use strict";o.d(f,{u:function(){return P}});var c=o(5671),i=o(3144),e=o(6903),r=o(3075),u=o(7322),t=o(7531),d=o(9808),g=o(4828),p=o(7423);function w(m,y){if(1&m&&(e.TgZ(0,"mat-form-field",5),e._UZ(1,"input",6),e.qZA()),2&m){var C=y.index;e.xp6(1),e.MGl("placeholder","Pattern ",C,""),e.Q6J("formControlName",C)}}function A(m,y){1&m&&(e.TgZ(0,"button",11),e._uU(1,"Delete"),e.qZA())}function _(m,y){if(1&m){var C=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(C),e.oxw(2).addCategory()}),e._uU(1," Add "),e.qZA()}if(2&m){var U=e.oxw(2);e.Q6J("disabled",U.categoryForm.invalid)}}function E(m,y){if(1&m){var C=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(C),e.oxw(2).updateCategory()}),e._uU(1," Update "),e.qZA()}if(2&m){var U=e.oxw(2);e.Q6J("disabled",U.categoryForm.invalid)}}function B(m,y){if(1&m){var C=e.EpF();e.TgZ(0,"div",7),e.YNc(1,A,2,0,"button",8),e.TgZ(2,"button",9),e.NdJ("click",function(){return e.CHM(C),e.oxw().addPattern()}),e._uU(3,"Add pattern"),e.qZA(),e.YNc(4,_,2,1,"button",10),e.YNc(5,E,2,1,"button",10),e.qZA()}if(2&m){var U=e.oxw();e.xp6(1),e.Q6J("ngIf",U.editMode),e.xp6(3),e.Q6J("ngIf",!U.editMode),e.xp6(1),e.Q6J("ngIf",U.editMode)}}var k=function(){return["OWNER"]},Q=function(){var m=function(){function y(C){(0,c.Z)(this,y),this.fb=C,this.editMode=!1,this.categoryAdded=new e.vpe,this.categoryUpdated=new e.vpe}return(0,i.Z)(y,[{key:"ngOnInit",value:function(){var U=this,J=this.category.counterpartyPatterns.map(function(z){return U.createPatternInput(z)});this.categoryForm=this.fb.group({id:[this.category.id],name:[this.category.name,r.kI.required],counterpartyPatterns:this.fb.array(J)})}},{key:"isDirty",value:function(){return this.categoryForm.dirty}},{key:"addPattern",value:function(){this.patterns.push(this.createPatternInput(""))}},{key:"addCategory",value:function(){this.categoryAdded.emit(this.categoryForm.value),this.categoryForm.reset()}},{key:"updateCategory",value:function(){this.categoryUpdated.emit(this.categoryForm.value),this.categoryForm.markAsPristine()}},{key:"patterns",get:function(){return this.categoryForm.get("counterpartyPatterns")}},{key:"createPatternInput",value:function(U){return new r.NI(U,[r.kI.required])}}]),y}();return m.\u0275fac=function(C){return new(C||m)(e.Y36(r.qu))},m.\u0275cmp=e.Xpm({type:m,selectors:[["category-form"]],inputs:{editMode:"editMode",category:"category"},outputs:{categoryAdded:"categoryAdded",categoryUpdated:"categoryUpdated"},decls:7,vars:4,consts:[["novalidate","",3,"formGroup"],["matInput","","placeholder","Category name","formControlName","name"],["formArrayName","counterpartyPatterns"],["class","pattern",4,"ngFor","ngForOf"],["class","actions",4,"forRoles"],[1,"pattern"],["matInput","",3,"placeholder","formControlName"],[1,"actions"],["mat-button","","color","primary",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-button","","color","primary"],["mat-button","","color","primary",3,"disabled","click"]],template:function(C,U){1&C&&(e.TgZ(0,"form",0)(1,"div")(2,"mat-form-field"),e._UZ(3,"input",1),e.qZA()(),e.TgZ(4,"div",2),e.YNc(5,w,2,2,"mat-form-field",3),e.qZA()(),e.YNc(6,B,6,3,"div",4)),2&C&&(e.Q6J("formGroup",U.categoryForm),e.xp6(5),e.Q6J("ngForOf",U.patterns.controls),e.xp6(1),e.Q6J("forRoles",e.DdM(3,k)))},directives:[r._Y,r.JL,r.sg,u.KE,t.Nt,r.Fj,r.JJ,r.u,r.CE,d.sg,g.d,d.O5,p.lW],styles:[".actions[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.pattern[_ngcontent-%COMP%]{margin-right:10px}"],changeDetection:0}),m}(),x=o(1125);function D(m,y){if(1&m){var C=e.EpF();e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.qZA()(),e.TgZ(4,"category-form",1),e.NdJ("categoryUpdated",function(z){return e.CHM(C),e.oxw().updateCategory(z)}),e.qZA()()}if(2&m){var U=y.$implicit;e.xp6(3),e.hij(" ",U.name," "),e.xp6(1),e.Q6J("editMode",!0)("category",U)}}var R=function(){var m=function(){function y(){(0,c.Z)(this,y),this.categoryUpdated=new e.vpe}return(0,i.Z)(y,[{key:"updateCategory",value:function(U){this.categoryUpdated.emit(U)}},{key:"isAnyFormDirty",value:function(){return this.categoryForms.reduce(function(U,J){return J.isDirty()||U},!1)}}]),y}();return m.\u0275fac=function(C){return new(C||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["category-list"]],viewQuery:function(C,U){var J;1&C&&e.Gf(Q,5),2&C&&e.iGM(J=e.CRH())&&(U.categoryForms=J)},inputs:{categories$:"categories$"},outputs:{categoryUpdated:"categoryUpdated"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"editMode","category","categoryUpdated"]],template:function(C,U){1&C&&(e.YNc(0,D,5,3,"mat-expansion-panel",0),e.ALo(1,"async")),2&C&&e.Q6J("ngForOf",e.lcZ(1,1,U.categories$))},directives:[d.sg,x.ib,x.yz,x.yK,Q],pipes:[d.Ov],styles:["[_nghost-%COMP%]{margin-top:10px;display:block}mat-expansion-panel[_ngcontent-%COMP%]{margin:0 10px;border-radius:0}mat-expansion-panel[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-top-right-radius:4px}mat-expansion-panel[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}"],changeDetection:0}),m}(),F=o(3338),$=o(459),G=o(773),I=o(9224);function M(m,y){1&m&&e._UZ(0,"mat-spinner")}function S(m,y){if(1&m&&(e.TgZ(0,"div",3),e.YNc(1,M,1,0,"mat-spinner",4),e.ALo(2,"async"),e.qZA()),2&m){var C=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,C.isUpdating$))}}function T(m,y){if(1&m){var C=e.EpF();e.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Add new category"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"category-form",6),e.NdJ("categoryAdded",function(z){return e.CHM(C),e.oxw().addCategory(z)}),e.qZA()()()}if(2&m){var U=e.oxw();e.xp6(5),e.Q6J("category",U.newCategory)}}var Z=function(){return["OWNER"]},P=function(){var m=function(){function y(C){(0,c.Z)(this,y),this.categoriesFacade=C,this.newCategory=new $.B,this.isUpdating$=C.isUpdating$(),this.expenseCategories$=C.getExpenseCategories$()}return(0,i.Z)(y,[{key:"addCategory",value:function(U){this.categoriesFacade.addExpenseCategory(U)}},{key:"updateCategory",value:function(U){this.categoriesFacade.updateExpenseCategory(U)}},{key:"isAnyFormDirty",value:function(){var U;return(null===(U=this.categoryForm)||void 0===U?void 0:U.isDirty())||this.categoryList.isAnyFormDirty()}}]),y}();return m.\u0275fac=function(C){return new(C||m)(e.Y36(F.r))},m.\u0275cmp=e.Xpm({type:m,selectors:[["categories"]],viewQuery:function(C,U){var J;1&C&&(e.Gf(Q,5),e.Gf(R,7)),2&C&&(e.iGM(J=e.CRH())&&(U.categoryForm=J.first),e.iGM(J=e.CRH())&&(U.categoryList=J.first))},decls:4,vars:6,consts:[["class","loading-shade",4,"ngIf"],["class","form",4,"forRoles"],[3,"categories$","categoryUpdated"],[1,"loading-shade"],[4,"ngIf"],[1,"form"],[3,"category","categoryAdded"]],template:function(C,U){1&C&&(e.YNc(0,S,3,3,"div",0),e.ALo(1,"async"),e.YNc(2,T,6,1,"mat-card",1),e.TgZ(3,"category-list",2),e.NdJ("categoryUpdated",function(z){return U.updateCategory(z)}),e.qZA()),2&C&&(e.Q6J("ngIf",e.lcZ(1,3,U.isUpdating$)),e.xp6(2),e.Q6J("forRoles",e.DdM(5,Z)),e.xp6(1),e.Q6J("categories$",U.expenseCategories$))},directives:[d.O5,G.$g,g.d,I.a8,I.dk,I.n5,I.dn,Q,R],pipes:[d.Ov],styles:["mat-card.form[_ngcontent-%COMP%]{margin:10px}mat-card-header.mat-card-header[_ngcontent-%COMP%]{margin:-4px 0 0 -8px!important}mat-card-title.mat-card-title[_ngcontent-%COMP%]{font-size:20px!important}.loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),m}()},9958:function(N,f,o){"use strict";o.r(f),o.d(f,{SettingsModule:function(){return se}});var c=o(3144),i=o(5671),e=o(4466),r=o(3075),u=o(7757),t=o(6903),d=o(9808);var z=o(3259);function et(n,s){if(1&n&&t._UZ(0,"canvas",1),2&n){var a=t.oxw();t.Q6J("qrCode",a.value)("qrCodeErrorCorrectionLevel",a.errorCorrectionLevel)("qrCodeCenterImageSrc",a.centerImageSrc)("qrCodeCenterImageWidth",a.centerImageSize)("qrCodeCenterImageHeight",a.centerImageSize)("qrCodeMargin",a.margin)("width",a.size)("height",a.size)("darkColor",a.darkColor)("lightColor",a.lightColor)}}var ft=/^#(?:[0-9a-fA-F]{3,4}){1,2}$/,ut=function(){var n=function(){function s(a){(0,i.Z)(this,s),this.viewContainerRef=a,this.errorCorrectionLevel=s.DEFAULT_ERROR_CORRECTION_LEVEL,this.darkColor="#000000FF",this.lightColor="#FFFFFFFF",this.margin=16}return(0,c.Z)(s,[{key:"ngOnChanges",value:function(){var l,h;return function k(n,s,a,l){return new(a||(a=Promise))(function(v,b){function L(j){try{O(l.next(j))}catch(q){b(q)}}function H(j){try{O(l.throw(j))}catch(q){b(q)}}function O(j){j.done?v(j.value):function h(v){return v instanceof a?v:new a(function(b){b(v)})}(j.value).then(L,H)}O((l=l.apply(n,s||[])).next())})}(this,void 0,void 0,u.mark(function v(){var b,L,H,O,j,q,Y,W,at;return u.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(this.value){nt.next=2;break}return nt.abrupt("return");case 2:if(this.version&&this.version>40?(console.warn("[qrCode] max version is 40, clamping"),this.version=40):this.version&&this.version<1?(console.warn("[qrCode] min version is 1, clamping"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[qrCode] version should be set to a number, defaulting to auto"),this.version=void 0),b=this.viewContainerRef.element.nativeElement){nt.next=6;break}return nt.abrupt("return");case 6:return(L=b.getContext("2d"))&&L.clearRect(0,0,L.canvas.width,L.canvas.height),H=null!==(l=this.errorCorrectionLevel)&&void 0!==l?l:s.DEFAULT_ERROR_CORRECTION_LEVEL,O=ft.test(this.darkColor)?this.darkColor:void 0,j=ft.test(this.lightColor)?this.lightColor:void 0,(0,t.X6Q)()&&(!O&&this.darkColor&&console.error("[ng-qrcode] darkColor set to invalid value, must be RGBA hex color string, eg: #3050A1FF"),!j&&this.lightColor&&console.error("[ng-qrcode] lightColor set to invalid value, must be RGBA hex color string, eg: #3050A130")),nt.next=14,z.toCanvas(b,this.value,{version:this.version,errorCorrectionLevel:H,width:this.width,margin:this.margin,color:{dark:O,light:j}});case 14:q=this.centerImageSrc,Y=rt(this.centerImageWidth,s.DEFAULT_CENTER_IMAGE_SIZE),W=rt(this.centerImageHeight,s.DEFAULT_CENTER_IMAGE_SIZE),q&&L&&(this.centerImage||(this.centerImage=new Image(Y,W)),q!==(null===(h=this.centerImage)||void 0===h?void 0:h.src)&&(this.centerImage.src=q),Y!==this.centerImage.width&&(this.centerImage.width=Y),W!==this.centerImage.height&&(this.centerImage.height=W),(at=this.centerImage).onload=function(){L.drawImage(at,b.width/2-Y/2,b.height/2-W/2,Y,W)});case 18:case"end":return nt.stop()}},v,this)}))}}]),s}();return n.DEFAULT_ERROR_CORRECTION_LEVEL="M",n.DEFAULT_CENTER_IMAGE_SIZE=40,n.\u0275fac=function(a){return new(a||n)(t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["canvas","qrCode",""]],inputs:{value:["qrCode","value"],version:["qrCodeVersion","version"],errorCorrectionLevel:["qrCodeErrorCorrectionLevel","errorCorrectionLevel"],width:"width",height:"height",darkColor:"darkColor",lightColor:"lightColor",centerImageSrc:["qrCodeCenterImageSrc","centerImageSrc"],centerImageWidth:["qrCodeCenterImageWidth","centerImageWidth"],centerImageHeight:["qrCodeCenterImageHeight","centerImageHeight"],margin:["qrCodeMargin","margin"]},features:[t.TTD]}),n}();function rt(n,s){return void 0===n||""===n?s:"string"==typeof n?parseInt(n,10):n}var dt=function(){var n=(0,c.Z)(function s(){(0,i.Z)(this,s)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["qr-code"]],inputs:{value:"value",size:"size",darkColor:"darkColor",lightColor:"lightColor",errorCorrectionLevel:"errorCorrectionLevel",centerImageSrc:"centerImageSrc",centerImageSize:"centerImageSize",margin:"margin"},decls:1,vars:1,consts:[[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor",4,"ngIf"],[3,"qrCode","qrCodeErrorCorrectionLevel","qrCodeCenterImageSrc","qrCodeCenterImageWidth","qrCodeCenterImageHeight","qrCodeMargin","width","height","darkColor","lightColor"]],template:function(a,l){1&a&&t.YNc(0,et,1,10,"canvas",0),2&a&&t.Q6J("ngIf",l.value)},directives:[d.O5,ut],encapsulation:2}),n}(),st=function(){var n=(0,c.Z)(function s(){(0,i.Z)(this,s)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez]]}),n}(),gt=o(2394),tt=o(520),ot=function(){var n=function(){function s(a){(0,i.Z)(this,s),this.http=a,this.API_URL="".concat(gt.v.apiUrl,"/secret")}return(0,c.Z)(s,[{key:"getSecret",value:function(){return this.http.get(this.API_URL)}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.LFG(tt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n}(),it=function(){var n=function(){function s(a){(0,i.Z)(this,s),this.http=a,this.API_URL="".concat(gt.v.apiUrl,"/users")}return(0,c.Z)(s,[{key:"getUsers",value:function(){return this.http.get(this.API_URL)}},{key:"createUser",value:function(l){return this.http.post(this.API_URL,l)}},{key:"patchUser",value:function(l,h){return this.http.patch("".concat(this.API_URL,"/").concat(l),h)}},{key:"deleteUser",value:function(l){return this.http.delete("".concat(this.API_URL,"/").concat(l))}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.LFG(tt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n}(),ct=function(){var n=function(){function s(a,l){(0,i.Z)(this,s),this.userApi=a,this.secretApi=l}return(0,c.Z)(s,[{key:"getUsers",value:function(){return this.userApi.getUsers()}},{key:"createUser",value:function(l){return this.userApi.createUser(l)}},{key:"deleteUser",value:function(l){return this.userApi.deleteUser(l)}},{key:"toggleTfa",value:function(l,h){return this.userApi.patchUser(l,{tfa:h})}},{key:"getSecret",value:function(){return this.secretApi.getSecret()}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.LFG(it),t.LFG(ot))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n}(),V=function(){var n=(0,c.Z)(function s(){(0,i.Z)(this,s)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[ct,it,ot],imports:[[e.m,r.UX,r.u5,st]]}),n}(),K=o(325),bt=o(6989),pt=o(3251);function Tt(n,s){if(1&n&&(t.TgZ(0,"a",2,3),t._uU(2),t.ALo(3,"titlecase"),t.qZA()),2&n){var a=s.$implicit,l=t.MAs(1);t.Q6J("routerLink",a)("active",l.isActive),t.xp6(2),t.Oqu(t.lcZ(3,3,a))}}var It=function(){var n=function(){function s(a,l){(0,i.Z)(this,s),this.router=a,this.route=l,this.forms=[],this.menuItems=["account","categories"]}return(0,c.Z)(s,[{key:"ngOnInit",value:function(){this.router.navigate(["account"],{relativeTo:this.route})}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.Y36(K.F0),t.Y36(K.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["settings"]],viewQuery:function(a,l){var h;1&a&&t.Gf(bt.u,5),2&a&&t.iGM(h=t.CRH())&&(l.categoriesComponent=h.first)},decls:3,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["link","routerLinkActive"]],template:function(a,l){1&a&&(t.TgZ(0,"nav",0),t.YNc(1,Tt,4,5,"a",1),t.qZA(),t._UZ(2,"router-outlet")),2&a&&(t.xp6(1),t.Q6J("ngForOf",l.menuItems))},directives:[pt.BU,d.sg,K.yS,pt.Nj,K.Od,K.lC],pipes:[d.rS],encapsulation:2}),n}(),X=o(6346),Ct=o(1737),Ut=o(1086),St=o(2198),ht=o(7545),mt=o(2868),vt=o(7221),Mt=o(4850),Pt=o(6518),lt=o(8966),yt=(0,c.Z)(function n(){(0,i.Z)(this,n)}),_t=o(7322),xt=o(7531),Rt=o(4107),Ft=o(508),wt=o(7423);function Bt(n,s){if(1&n&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&n){var a=s.$implicit;t.Q6J("value",a),t.xp6(1),t.hij(" ",a," ")}}var Lt=function(){var n=function(){function s(a,l,h){(0,i.Z)(this,s),this.fb=a,this.dialogRef=l,this.data=h}return(0,c.Z)(s,[{key:"ngOnInit",value:function(){this.user=new yt,this.roles=["OWNER","READER"],this.inProgress=!1,this.submitText="Create",this.userForm=this.fb.group({email:["",[r.kI.required,r.kI.email]],role:["",r.kI.required]})}},{key:"submit",value:function(){var l=this;this.inProgress=!0,this.submitText="Please wait...";var h=Object.assign(new yt,this.userForm.value);this.data.callback$(h).subscribe(function(){return l.dialogRef.close()})}},{key:"cancel",value:function(){this.dialogRef.close()}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.Y36(r.qu),t.Y36(lt.so),t.Y36(lt.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["user-dialog"]],decls:15,vars:4,consts:[[3,"formGroup"],["matInput","","type","email","placeholder","User email","formControlName","email"],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],[1,"controls"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","accent",3,"click"],[3,"value"]],template:function(a,l){1&a&&(t.TgZ(0,"h2"),t._uU(1,"Add a user to the account"),t.qZA(),t.TgZ(2,"form",0)(3,"mat-form-field"),t._UZ(4,"input",1),t.qZA(),t.TgZ(5,"mat-form-field")(6,"mat-label"),t._uU(7,"Role"),t.qZA(),t.TgZ(8,"mat-select",2),t.YNc(9,Bt,2,2,"mat-option",3),t.qZA()(),t.TgZ(10,"div",4)(11,"button",5),t.NdJ("click",function(){return l.submit()}),t._uU(12),t.qZA(),t.TgZ(13,"button",6),t.NdJ("click",function(){return l.cancel()}),t._uU(14,"Cancel"),t.qZA()()()),2&a&&(t.xp6(2),t.Q6J("formGroup",l.userForm),t.xp6(7),t.Q6J("ngForOf",l.roles),t.xp6(2),t.Q6J("disabled",!l.userForm.valid||l.inProgress),t.xp6(1),t.hij(" ",l.submitText," "))},directives:[r._Y,r.JL,r.sg,_t.KE,xt.Nt,r.Fj,r.JJ,r.u,_t.hX,Rt.gD,d.sg,Ft.ey,wt.lW],styles:[".mat-dialog-container{border-radius:0}.mat-form-field{width:100%}.controls{display:flex;position:fixed;width:calc(100% - 40px);padding:0 20px;bottom:20px;left:0}.controls button{flex-grow:1}.controls button:nth-of-type(1){margin-right:10px}.controls button:nth-of-type(2){margin-left:10px}\n"],encapsulation:2}),n}(),Nt=function(){var n=(0,c.Z)(function s(a,l){(0,i.Z)(this,s),this.dialogRef=a,this.keyuri=l});return n.\u0275fac=function(a){return new(a||n)(t.Y36(lt.so),t.Y36(lt.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["secret-dialog"]],decls:3,vars:1,consts:[["size","300","errorCorrectionLevel","H",3,"value"]],template:function(a,l){1&a&&(t.TgZ(0,"p"),t._uU(1,"Scan QR code in Google Authenticator"),t.qZA(),t._UZ(2,"qr-code",0)),2&a&&(t.xp6(2),t.Q6J("value",l.keyuri))},directives:[dt],encapsulation:2}),n}(),Dt=o(6311),Zt=o(7261),Ot=o(773),Et=o(9224),kt=o(2368),Jt=o(4828),Qt=o(7238),Yt=o(5245);function $t(n,s){1&n&&(t.TgZ(0,"div",3),t._UZ(1,"mat-spinner"),t.qZA())}function Ht(n,s){if(1&n){var a=t.EpF();t.TgZ(0,"mat-card-actions")(1,"button",4),t.NdJ("click",function(){return t.CHM(a),t.oxw().logoutAuth0()}),t._uU(2," Auth0 logout "),t.qZA()()}}function zt(n,s){if(1&n){var a=t.EpF();t.TgZ(0,"mat-card")(1,"h2"),t._uU(2,"Two-factor authentication"),t.qZA(),t.TgZ(3,"mat-slide-toggle",5),t.NdJ("ngModelChange",function(v){return t.CHM(a),t.oxw().tfaEnabled=v})("change",function(v){return t.CHM(a),t.oxw().updateTfa(v)}),t._uU(4),t.qZA(),t.TgZ(5,"button",6),t.NdJ("click",function(){return t.CHM(a),t.oxw().showSecretCode()}),t._uU(6),t.qZA()()}if(2&n){var l=t.oxw();t.xp6(3),t.Q6J("ngModel",l.tfaEnabled)("disabled",l.isLoading),t.xp6(1),t.Oqu(l.tfaEnabled?"Enabled":"Disabled"),t.xp6(2),t.hij(" ",l.showSecretLabel," ")}}function Kt(n,s){1&n&&t._UZ(0,"mat-header-row")}function jt(n,s){1&n&&t._UZ(0,"mat-row")}function Gt(n,s){1&n&&(t.TgZ(0,"mat-header-cell",20),t._uU(1,"User email"),t.qZA())}function Wt(n,s){if(1&n&&(t.TgZ(0,"mat-cell",20),t._uU(1),t.qZA()),2&n){var a=s.$implicit;t.xp6(1),t.hij(" ",a.email," ")}}function Vt(n,s){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Role"),t.qZA())}function Xt(n,s){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){var a=s.$implicit;t.xp6(1),t.hij(" ",a.role," ")}}function qt(n,s){1&n&&(t.TgZ(0,"mat-header-cell"),t._uU(1,"Confirmed"),t.qZA())}function te(n,s){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){var a=s.$implicit;t.xp6(1),t.hij(" ",a.confirmed?"Yes":"No"," ")}}function ee(n,s){1&n&&(t.TgZ(0,"mat-header-cell",21),t._uU(1,"Actions"),t.qZA())}function ne(n,s){if(1&n){var a=t.EpF();t.TgZ(0,"mat-cell",21)(1,"button",22),t.NdJ("click",function(){var L=t.CHM(a).$implicit;return t.oxw(2).confirmDelete(L.id)}),t._UZ(2,"mat-icon",23),t.qZA()()}if(2&n){var l=s.$implicit,h=t.oxw(2);t.xp6(1),t.Q6J("disabled",l.email===h.ownEmail)}}function re(n,s){if(1&n){var a=t.EpF();t.TgZ(0,"mat-card")(1,"h2"),t._uU(2,"Account users"),t.qZA(),t.TgZ(3,"mat-table",7),t.YNc(4,Kt,1,0,"mat-header-row",8),t.YNc(5,jt,1,0,"mat-row",9),t.ynx(6,10),t.YNc(7,Gt,2,0,"mat-header-cell",11),t.YNc(8,Wt,2,1,"mat-cell",12),t.BQk(),t.ynx(9,13),t.YNc(10,Vt,2,0,"mat-header-cell",14),t.YNc(11,Xt,2,1,"mat-cell",15),t.BQk(),t.ynx(12,16),t.YNc(13,qt,2,0,"mat-header-cell",14),t.YNc(14,te,2,1,"mat-cell",15),t.BQk(),t.ynx(15,17),t.YNc(16,ee,2,0,"mat-header-cell",18),t.YNc(17,ne,3,1,"mat-cell",19),t.BQk(),t.qZA(),t.TgZ(18,"mat-card-actions")(19,"button",4),t.NdJ("click",function(){return t.CHM(a),t.oxw().openUserDialog()}),t._uU(20," Add user "),t.qZA()()()}if(2&n){var l=t.oxw();t.xp6(3),t.Q6J("dataSource",l.users),t.xp6(1),t.Q6J("matHeaderRowDef",l.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",l.displayedColumns)}}var ae=function(){return["owner"]},ie=[{path:"",component:It,children:[{path:"account",component:function(){var n=function(){function s(a,l,h,v){(0,i.Z)(this,s),this.dialog=a,this.snackBar=l,this.authService=h,this.accountService=v,this.isAuth0=!1,this.tfaEnabled=!1,this.isLoading=!1,this.users=new X.by,this.displayedColumns=["email","role","confirmed","actions"],this.showSecretLabel="Show secret code"}return(0,c.Z)(s,[{key:"ngOnInit",value:function(){var l=this;this.authService.getCurrentUser$().subscribe(function(h){l.ownEmail=h.email,l.ownName=h.email.split("@")[1],l.tfaEnabled=h.tfa,l.isAuth0=l.authService.isAuth0User(h)}),this.authService.getUserRole$().pipe((0,St.h)(function(h){return"OWNER"===h}),(0,ht.w)(function(){return l.loadUsers$()})).subscribe()}},{key:"openUserDialog",value:function(){this.dialog.open(Lt,{data:{callback$:this.getCreateUserCallback$()},maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%"})}},{key:"updateTfa",value:function(l){var h=this,v=l.checked;this.isLoading=!0,this.authService.getCurrentUser$().pipe((0,ht.w)(function(b){return h.accountService.toggleTfa(b.id,v)}),(0,mt.b)(function(){return h.isLoading=!1}),(0,vt.K)(function(b){var L,H;return h.isLoading=!1,h.tfaEnabled=!v,h.showResultSnackbar(null!==(H=null===(L=b.error)||void 0===L?void 0:L.msg)&&void 0!==H?H:"Unknown error"),(0,Ct._)(b)})).subscribe(function(){return h.showResultSnackbar("Two-factor authentication ".concat(v?"enabled":"disabled"))})}},{key:"showSecretCode",value:function(){var l=this;this.showSecretLabel="Please wait...",this.accountService.getSecret().subscribe(function(h){l.dialog.open(Nt,{data:h.keyuri}),l.showSecretLabel="Show secret code"})}},{key:"confirmDelete",value:function(l){var h=this;this.isLoading=!0,this.accountService.deleteUser(l).pipe((0,ht.w)(function(){return h.loadUsers$()}),(0,mt.b)(function(){return h.isLoading=!1}),(0,vt.K)(function(v){var b,L;return h.isLoading=!1,h.showResultSnackbar(null!==(L=null===(b=v.error)||void 0===b?void 0:b.msg)&&void 0!==L?L:"Unknown error"),(0,Ct._)(v)})).subscribe(function(){return h.showResultSnackbar("User deleted")})}},{key:"logoutAuth0",value:function(){this.authService.logoutAuth0()}},{key:"loadUsers$",value:function(){var l=this;return this.accountService.getUsers().pipe((0,Mt.U)(function(h){return l.users.data=h}))}},{key:"getCreateUserCallback$",value:function(){var l=this;return function(h){return l.accountService.createUser(h).pipe((0,ht.w)(function(){return l.loadUsers$()}),(0,mt.b)(function(){return l.showResultSnackbar("Success")}),(0,vt.K)(function(v){var b,L;return l.showResultSnackbar(null!==(L=null===(b=v.error)||void 0===b?void 0:b.msg)&&void 0!==L?L:"Unknown error"),(0,Ut.of)(v)}))}}},{key:"showResultSnackbar",value:function(l){this.snackBar.openFromComponent(Dt.E,{duration:3e3,data:l})}}]),s}();return n.\u0275fac=function(a){return new(a||n)(t.Y36(lt.uw),t.Y36(Zt.ux),t.Y36(Pt.e),t.Y36(ct))},n.\u0275cmp=t.Xpm({type:n,selectors:[["account"]],decls:12,vars:7,consts:[["class","loading-shade",4,"ngIf"],[4,"ngIf"],[4,"forRoles"],[1,"loading-shade"],["mat-raised-button","","color","primary",3,"click"],[3,"ngModel","disabled","ngModelChange","change"],["mat-button","","color","primary",3,"click"],[3,"dataSource"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","email"],["class","wide",4,"matHeaderCellDef"],["class","wide",4,"matCellDef"],["matColumnDef","role"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","confirmed"],["matColumnDef","actions"],["class","pull-right",4,"matHeaderCellDef"],["class","pull-right",4,"matCellDef"],[1,"wide"],[1,"pull-right"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"disabled","click"],["svgIcon","remove"]],template:function(a,l){1&a&&(t.TgZ(0,"main"),t.YNc(1,$t,2,0,"div",0),t.TgZ(2,"mat-card")(3,"h2"),t._uU(4,"User profile"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.qZA(),t.YNc(9,Ht,3,0,"mat-card-actions",1),t.qZA(),t.YNc(10,zt,7,4,"mat-card",1),t.YNc(11,re,21,3,"mat-card",2),t.qZA()),2&a&&(t.xp6(1),t.Q6J("ngIf",l.isLoading),t.xp6(5),t.Oqu(l.ownEmail),t.xp6(2),t.Oqu(l.ownName),t.xp6(1),t.Q6J("ngIf",l.isAuth0),t.xp6(1),t.Q6J("ngIf",!l.isAuth0),t.xp6(1),t.Q6J("forRoles",t.DdM(6,ae)))},directives:[d.O5,Ot.$g,Et.a8,Et.hq,wt.lW,kt.Rr,r.JJ,r.On,Jt.d,X.BZ,X.as,X.XQ,X.nj,X.Gk,X.w1,X.fO,X.ge,X.Dz,X.ev,Qt.gM,Yt.Hw],styles:["[_nghost-%COMP%]{padding:0 10px;display:block}.wide[_ngcontent-%COMP%]{min-width:40%}.pull-right[_ngcontent-%COMP%]{flex-direction:row-reverse}.loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}mat-card[_ngcontent-%COMP%]{margin-top:20px}mat-card-actions[_ngcontent-%COMP%]{padding:20px 10px 10px!important;text-align:right}"]}),n}()},{path:"categories",loadChildren:function(){return o.e(785).then(o.bind(o,7785)).then(function(s){return s.CategoriesModule})}}]}],ue=function(){var n=(0,c.Z)(function s(){(0,i.Z)(this,s)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[K.Bz.forChild(ie)],K.Bz]}),n}(),se=function(){var n=(0,c.Z)(function s(){(0,i.Z)(this,s)});return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[e.m,V,ue]]}),n}()},4901:function(N){"use strict";var f={single_source_shortest_paths:function(c,i,e){var r={},u={};u[i]=0;var d,g,p,w,A,E,t=f.PriorityQueue.make();for(t.push(i,0);!t.empty();)for(p in w=(d=t.pop()).cost,A=c[g=d.value]||{})A.hasOwnProperty(p)&&(E=w+A[p],(void 0===u[p]||u[p]>E)&&(u[p]=E,t.push(p,E),r[p]=g));if(void 0!==e&&void 0===u[e]){var Q=["Could not find a path from ",i," to ",e,"."].join("");throw new Error(Q)}return r},extract_shortest_path_from_predecessor_list:function(c,i){for(var e=[],r=i;r;)e.push(r),r=c[r];return e.reverse(),e},find_path:function(c,i,e){var r=f.single_source_shortest_paths(c,i,e);return f.extract_shortest_path_from_predecessor_list(r,e)},PriorityQueue:{make:function(c){var r,i=f.PriorityQueue,e={};for(r in c=c||{},i)i.hasOwnProperty(r)&&(e[r]=i[r]);return e.queue=[],e.sorter=c.sorter||i.default_sorter,e},default_sorter:function(c,i){return c.cost-i.cost},push:function(c,i){this.queue.push({value:c,cost:i}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};N.exports=f},8419:function(N){"use strict";N.exports=function(o){for(var c=[],i=o.length,e=0;e<i;e++){var r=o.charCodeAt(e);if(r>=55296&&r<=56319&&i>e+1){var u=o.charCodeAt(e+1);u>=56320&&u<=57343&&(r=1024*(r-55296)+u-56320+65536,e+=1)}r<128?c.push(r):r<2048?(c.push(r>>6|192),c.push(63&r|128)):r<55296||r>=57344&&r<65536?(c.push(r>>12|224),c.push(r>>6&63|128),c.push(63&r|128)):r>=65536&&r<=1114111?(c.push(r>>18|240),c.push(r>>12&63|128),c.push(r>>6&63|128),c.push(63&r|128)):c.push(239,191,189)}return new Uint8Array(c).buffer}},3259:function(N,f,o){var c=o(8695),i=o(1465),e=o(3210),r=o(2334);function u(t,d,g,p,w){var A=[].slice.call(arguments,1),_=A.length,E="function"==typeof A[_-1];if(!E&&!c())throw new Error("Callback required as last argument");if(!E){if(_<1)throw new Error("Too few arguments provided");return 1===_?(g=d,d=p=void 0):2===_&&!d.getContext&&(p=g,g=d,d=void 0),new Promise(function(k,Q){try{var x=i.create(g,p);k(t(x,d,p))}catch(D){Q(D)}})}if(_<2)throw new Error("Too few arguments provided");2===_?(w=g,g=d,d=p=void 0):3===_&&(d.getContext&&void 0===w?(w=p,p=void 0):(w=p,p=g,g=d,d=void 0));try{var B=i.create(g,p);w(null,t(B,d,p))}catch(k){w(k)}}f.create=i.create,f.toCanvas=u.bind(null,e.render),f.toDataURL=u.bind(null,e.renderToDataURL),f.toString=u.bind(null,function(t,d,g){return r.render(t,g)})},8695:function(N){N.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:function(N,f,o){var c=o(4792).getSymbolSize;f.getRowColCoords=function(e){if(1===e)return[];for(var r=Math.floor(e/7)+2,u=c(e),t=145===u?26:2*Math.ceil((u-13)/(2*r-2)),d=[u-7],g=1;g<r-1;g++)d[g]=d[g-1]-t;return d.push(6),d.reverse()},f.getPositions=function(e){for(var r=[],u=f.getRowColCoords(e),t=u.length,d=0;d<t;d++)for(var g=0;g<t;g++)0===d&&0===g||0===d&&g===t-1||d===t-1&&0===g||r.push([u[d],u[g]]);return r}},2424:function(N,f,o){var c=o(4016),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(r){this.mode=c.ALPHANUMERIC,this.data=r}e.getBitsLength=function(u){return 11*Math.floor(u/2)+u%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(u){var t;for(t=0;t+2<=this.data.length;t+=2){var d=45*i.indexOf(this.data[t]);d+=i.indexOf(this.data[t+1]),u.put(d,11)}this.data.length%2&&u.put(i.indexOf(this.data[t]),6)},N.exports=e},2118:function(N){function f(){this.buffer=[],this.length=0}f.prototype={get:function(c){var i=Math.floor(c/8);return 1==(this.buffer[i]>>>7-c%8&1)},put:function(c,i){for(var e=0;e<i;e++)this.putBit(1==(c>>>i-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(c){var i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),c&&(this.buffer[i]|=128>>>this.length%8),this.length++}},N.exports=f},4425:function(N){function f(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}f.prototype.set=function(o,c,i,e){var r=o*this.size+c;this.data[r]=i,e&&(this.reservedBit[r]=!0)},f.prototype.get=function(o,c){return this.data[o*this.size+c]},f.prototype.xor=function(o,c,i){this.data[o*this.size+c]^=i},f.prototype.isReserved=function(o,c){return this.reservedBit[o*this.size+c]},N.exports=f},5663:function(N,f,o){var c=o(8419),i=o(4016);function e(r){this.mode=i.BYTE,this.data=new Uint8Array(c(r))}e.getBitsLength=function(u){return 8*u},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(var u=0,t=this.data.length;u<t;u++)r.put(this.data[u],8)},N.exports=e},4655:function(N,f,o){var c=o(2259),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];f.getBlocksCount=function(u,t){switch(t){case c.L:return i[4*(u-1)+0];case c.M:return i[4*(u-1)+1];case c.Q:return i[4*(u-1)+2];case c.H:return i[4*(u-1)+3];default:return}},f.getTotalCodewordsCount=function(u,t){switch(t){case c.L:return e[4*(u-1)+0];case c.M:return e[4*(u-1)+1];case c.Q:return e[4*(u-1)+2];case c.H:return e[4*(u-1)+3];default:return}}},2259:function(N,f){f.L={bit:1},f.M={bit:0},f.Q={bit:3},f.H={bit:2},f.isValid=function(i){return i&&void 0!==i.bit&&i.bit>=0&&i.bit<4},f.from=function(i,e){if(f.isValid(i))return i;try{return function o(c){if("string"!=typeof c)throw new Error("Param is not a string");switch(c.toLowerCase()){case"l":case"low":return f.L;case"m":case"medium":return f.M;case"q":case"quartile":return f.Q;case"h":case"high":return f.H;default:throw new Error("Unknown EC Level: "+c)}}(i)}catch(r){return e}}},3114:function(N,f,o){var c=o(4792).getSymbolSize;f.getPositions=function(r){var u=c(r);return[[0,0],[u-7,0],[0,u-7]]}},7078:function(N,f,o){var c=o(4792),r=c.getBCHDigit(1335);f.getEncodedBits=function(t,d){for(var g=t.bit<<3|d,p=g<<10;c.getBCHDigit(p)-r>=0;)p^=1335<<c.getBCHDigit(p)-r;return 21522^(g<<10|p)}},5339:function(N,f){var o=new Uint8Array(512),c=new Uint8Array(256);(function(){for(var e=1,r=0;r<255;r++)o[r]=e,c[e]=r,256&(e<<=1)&&(e^=285);for(var u=255;u<512;u++)o[u]=o[u-255]})(),f.log=function(e){if(e<1)throw new Error("log("+e+")");return c[e]},f.exp=function(e){return o[e]},f.mul=function(e,r){return 0===e||0===r?0:o[c[e]+c[r]]}},4388:function(N,f,o){var c=o(4016),i=o(4792);function e(r){this.mode=c.KANJI,this.data=r}e.getBitsLength=function(u){return 13*u},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){var u;for(u=0;u<this.data.length;u++){var t=i.toSJIS(this.data[u]);if(t>=33088&&t<=40956)t-=33088;else{if(!(t>=57408&&t<=60351))throw new Error("Invalid SJIS character: "+this.data[u]+"\nMake sure your charset is UTF-8");t-=49472}r.put(t=192*(t>>>8&255)+(255&t),13)}},N.exports=e},3667:function(N,f){f.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function c(i,e,r){switch(i){case f.Patterns.PATTERN000:return(e+r)%2==0;case f.Patterns.PATTERN001:return e%2==0;case f.Patterns.PATTERN010:return r%3==0;case f.Patterns.PATTERN011:return(e+r)%3==0;case f.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case f.Patterns.PATTERN101:return e*r%2+e*r%3==0;case f.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case f.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}}f.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},f.from=function(e){return f.isValid(e)?parseInt(e,10):void 0},f.getPenaltyN1=function(e){for(var r=e.size,u=0,t=0,d=0,g=null,p=null,w=0;w<r;w++){t=d=0,g=p=null;for(var A=0;A<r;A++){var _=e.get(w,A);_===g?t++:(t>=5&&(u+=t-5+3),g=_,t=1),(_=e.get(A,w))===p?d++:(d>=5&&(u+=d-5+3),p=_,d=1)}t>=5&&(u+=t-5+3),d>=5&&(u+=d-5+3)}return u},f.getPenaltyN2=function(e){for(var r=e.size,u=0,t=0;t<r-1;t++)for(var d=0;d<r-1;d++){var g=e.get(t,d)+e.get(t,d+1)+e.get(t+1,d)+e.get(t+1,d+1);(4===g||0===g)&&u++}return 3*u},f.getPenaltyN3=function(e){for(var r=e.size,u=0,t=0,d=0,g=0;g<r;g++){t=d=0;for(var p=0;p<r;p++)t=t<<1&2047|e.get(g,p),p>=10&&(1488===t||93===t)&&u++,d=d<<1&2047|e.get(p,g),p>=10&&(1488===d||93===d)&&u++}return 40*u},f.getPenaltyN4=function(e){for(var r=0,u=e.data.length,t=0;t<u;t++)r+=e.data[t];return 10*Math.abs(Math.ceil(100*r/u/5)-10)},f.applyMask=function(e,r){for(var u=r.size,t=0;t<u;t++)for(var d=0;d<u;d++)r.isReserved(d,t)||r.xor(d,t,c(e,d,t))},f.getBestMask=function(e,r){for(var u=Object.keys(f.Patterns).length,t=0,d=1/0,g=0;g<u;g++){r(g),f.applyMask(g,e);var p=f.getPenaltyN1(e)+f.getPenaltyN2(e)+f.getPenaltyN3(e)+f.getPenaltyN4(e);f.applyMask(g,e),p<d&&(d=p,t=g)}return t}},4016:function(N,f,o){var c=o(4406),i=o(2699);f.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},f.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},f.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},f.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},f.MIXED={bit:-1},f.getCharCountIndicator=function(u,t){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!c.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?u.ccBits[0]:t<27?u.ccBits[1]:u.ccBits[2]},f.getBestModeForData=function(u){return i.testNumeric(u)?f.NUMERIC:i.testAlphanumeric(u)?f.ALPHANUMERIC:i.testKanji(u)?f.KANJI:f.BYTE},f.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},f.isValid=function(u){return u&&u.bit&&u.ccBits},f.from=function(u,t){if(f.isValid(u))return u;try{return function e(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return f.NUMERIC;case"alphanumeric":return f.ALPHANUMERIC;case"kanji":return f.KANJI;case"byte":return f.BYTE;default:throw new Error("Unknown mode: "+r)}}(u)}catch(d){return t}}},7783:function(N,f,o){var c=o(4016);function i(e){this.mode=c.NUMERIC,this.data=e.toString()}i.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){var u,t,d;for(u=0;u+3<=this.data.length;u+=3)t=this.data.substr(u,3),d=parseInt(t,10),r.put(d,10);var g=this.data.length-u;g>0&&(t=this.data.substr(u),d=parseInt(t,10),r.put(d,3*g+1))},N.exports=i},1106:function(N,f,o){var c=o(5339);f.mul=function(e,r){for(var u=new Uint8Array(e.length+r.length-1),t=0;t<e.length;t++)for(var d=0;d<r.length;d++)u[t+d]^=c.mul(e[t],r[d]);return u},f.mod=function(e,r){for(var u=new Uint8Array(e);u.length-r.length>=0;){for(var t=u[0],d=0;d<r.length;d++)u[d]^=c.mul(r[d],t);for(var g=0;g<u.length&&0===u[g];)g++;u=u.slice(g)}return u},f.generateECPolynomial=function(e){for(var r=new Uint8Array([1]),u=0;u<e;u++)r=f.mul(r,new Uint8Array([1,c.exp(u)]));return r}},1465:function(N,f,o){var c=o(4792),i=o(2259),e=o(2118),r=o(4425),u=o(6221),t=o(3114),d=o(3667),g=o(4655),p=o(2636),w=o(2088),A=o(7078),_=o(4016),E=o(2033);function D(I,M,S){var P,m,T=I.size,Z=A.getEncodedBits(M,S);for(P=0;P<15;P++)I.set(P<6?P:P<8?P+1:T-15+P,8,m=1==(Z>>P&1),!0),I.set(8,P<8?T-P-1:P<9?15-P-1+1:15-P-1,m,!0);I.set(T-8,8,1,!0)}function G(I,M,S,T){var Z;if(Array.isArray(I))Z=E.fromArray(I);else{if("string"!=typeof I)throw new Error("Invalid data");var P=M;if(!P){var m=E.rawSplit(I);P=w.getBestVersionForData(m,S)}Z=E.fromString(I,P||40)}var y=w.getBestVersionForData(Z,S);if(!y)throw new Error("The amount of data is too big to be stored in a QR Code");if(M){if(M<y)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else M=y;var C=function F(I,M,S){var T=new e;S.forEach(function(U){T.put(U.mode.bit,4),T.put(U.getLength(),_.getCharCountIndicator(U.mode,I)),U.write(T)});var m=8*(c.getSymbolTotalCodewords(I)-g.getTotalCodewordsCount(I,M));for(T.getLengthInBits()+4<=m&&T.put(0,4);T.getLengthInBits()%8!=0;)T.putBit(0);for(var y=(m-T.getLengthInBits())/8,C=0;C<y;C++)T.put(C%2?17:236,8);return function $(I,M,S){for(var T=c.getSymbolTotalCodewords(M),P=T-g.getTotalCodewordsCount(M,S),m=g.getBlocksCount(M,S),C=m-T%m,U=Math.floor(T/m),J=Math.floor(P/m),z=J+1,et=U-J,ft=new p(et),ut=0,rt=new Array(m),dt=new Array(m),st=0,gt=new Uint8Array(I.buffer),tt=0;tt<m;tt++){var ot=tt<C?J:z;rt[tt]=gt.slice(ut,ut+ot),dt[tt]=ft.encode(rt[tt]),ut+=ot,st=Math.max(st,ot)}var V,K,it=new Uint8Array(T),ct=0;for(V=0;V<st;V++)for(K=0;K<m;K++)V<rt[K].length&&(it[ct++]=rt[K][V]);for(V=0;V<et;V++)for(K=0;K<m;K++)it[ct++]=dt[K][V];return it}(T,I,M)}(M,S,Z),U=c.getSymbolSize(M),J=new r(U);return function B(I,M){for(var S=I.size,T=t.getPositions(M),Z=0;Z<T.length;Z++)for(var P=T[Z][0],m=T[Z][1],y=-1;y<=7;y++)if(!(P+y<=-1||S<=P+y))for(var C=-1;C<=7;C++)m+C<=-1||S<=m+C||I.set(P+y,m+C,y>=0&&y<=6&&(0===C||6===C)||C>=0&&C<=6&&(0===y||6===y)||y>=2&&y<=4&&C>=2&&C<=4,!0)}(J,M),function k(I){for(var M=I.size,S=8;S<M-8;S++){var T=S%2==0;I.set(S,6,T,!0),I.set(6,S,T,!0)}}(J),function Q(I,M){for(var S=u.getPositions(M),T=0;T<S.length;T++)for(var Z=S[T][0],P=S[T][1],m=-2;m<=2;m++)for(var y=-2;y<=2;y++)I.set(Z+m,P+y,-2===m||2===m||-2===y||2===y||0===m&&0===y,!0)}(J,M),D(J,S,0),M>=7&&function x(I,M){for(var Z,P,m,S=I.size,T=w.getEncodedBits(M),y=0;y<18;y++)Z=Math.floor(y/3),I.set(Z,P=y%3+S-8-3,m=1==(T>>y&1),!0),I.set(P,Z,m,!0)}(J,M),function R(I,M){for(var S=I.size,T=-1,Z=S-1,P=7,m=0,y=S-1;y>0;y-=2)for(6===y&&y--;;){for(var C=0;C<2;C++)if(!I.isReserved(Z,y-C)){var U=!1;m<M.length&&(U=1==(M[m]>>>P&1)),I.set(Z,y-C,U),-1==--P&&(m++,P=7)}if((Z+=T)<0||S<=Z){Z-=T,T=-T;break}}}(J,C),isNaN(T)&&(T=d.getBestMask(J,D.bind(null,J,S))),d.applyMask(T,J),D(J,S,T),{modules:J,version:M,errorCorrectionLevel:S,maskPattern:T,segments:Z}}f.create=function(M,S){if(void 0===M||""===M)throw new Error("No input text");var Z,P,T=i.M;return void 0!==S&&(T=i.from(S.errorCorrectionLevel,i.M),Z=w.from(S.version),P=d.from(S.maskPattern),S.toSJISFunc&&c.setToSJISFunction(S.toSJISFunc)),G(M,Z,T,P)}},2636:function(N,f,o){var c=o(1106);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(r){this.degree=r,this.genPoly=c.generateECPolynomial(this.degree)},i.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");var u=new Uint8Array(r.length+this.degree);u.set(r);var t=c.mod(u,this.genPoly),d=this.degree-t.length;if(d>0){var g=new Uint8Array(this.degree);return g.set(t,d),g}return t},N.exports=i},2699:function(N,f){var o="[0-9]+",i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",e="(?:(?![A-Z0-9 $%*+\\-./:]|"+(i=i.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";f.KANJI=new RegExp(i,"g"),f.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),f.BYTE=new RegExp(e,"g"),f.NUMERIC=new RegExp(o,"g"),f.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+i+"$"),u=new RegExp("^"+o+"$"),t=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");f.testKanji=function(g){return r.test(g)},f.testNumeric=function(g){return u.test(g)},f.testAlphanumeric=function(g){return t.test(g)}},2033:function(N,f,o){var c=o(4016),i=o(7783),e=o(2424),r=o(5663),u=o(4388),t=o(2699),d=o(4792),g=o(4901);function p(x){return unescape(encodeURIComponent(x)).length}function w(x,D,R){for(var $,F=[];null!==($=x.exec(R));)F.push({data:$[0],index:$.index,mode:D,length:$[0].length});return F}function A(x){var F,$,D=w(t.NUMERIC,c.NUMERIC,x),R=w(t.ALPHANUMERIC,c.ALPHANUMERIC,x);return d.isKanjiModeEnabled()?(F=w(t.BYTE,c.BYTE,x),$=w(t.KANJI,c.KANJI,x)):(F=w(t.BYTE_KANJI,c.BYTE,x),$=[]),D.concat(R,F,$).sort(function(I,M){return I.index-M.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function _(x,D){switch(D){case c.NUMERIC:return i.getBitsLength(x);case c.ALPHANUMERIC:return e.getBitsLength(x);case c.KANJI:return u.getBitsLength(x);case c.BYTE:return r.getBitsLength(x)}}function Q(x,D){var R,F=c.getBestModeForData(x);if((R=c.from(D,F))!==c.BYTE&&R.bit<F.bit)throw new Error('"'+x+'" cannot be encoded with mode '+c.toString(R)+".\n Suggested mode is: "+c.toString(F));switch(R===c.KANJI&&!d.isKanjiModeEnabled()&&(R=c.BYTE),R){case c.NUMERIC:return new i(x);case c.ALPHANUMERIC:return new e(x);case c.KANJI:return new u(x);case c.BYTE:return new r(x)}}f.fromArray=function(D){return D.reduce(function(R,F){return"string"==typeof F?R.push(Q(F,null)):F.data&&R.push(Q(F.data,F.mode)),R},[])},f.fromString=function(D,R){for(var $=function B(x){for(var D=[],R=0;R<x.length;R++){var F=x[R];switch(F.mode){case c.NUMERIC:D.push([F,{data:F.data,mode:c.ALPHANUMERIC,length:F.length},{data:F.data,mode:c.BYTE,length:F.length}]);break;case c.ALPHANUMERIC:D.push([F,{data:F.data,mode:c.BYTE,length:F.length}]);break;case c.KANJI:D.push([F,{data:F.data,mode:c.BYTE,length:p(F.data)}]);break;case c.BYTE:D.push([{data:F.data,mode:c.BYTE,length:p(F.data)}])}}return D}(A(D,d.isKanjiModeEnabled())),G=function k(x,D){for(var R={},F={start:{}},$=["start"],G=0;G<x.length;G++){for(var I=x[G],M=[],S=0;S<I.length;S++){var T=I[S],Z=""+G+S;M.push(Z),R[Z]={node:T,lastCount:0},F[Z]={};for(var P=0;P<$.length;P++){var m=$[P];R[m]&&R[m].node.mode===T.mode?(F[m][Z]=_(R[m].lastCount+T.length,T.mode)-_(R[m].lastCount,T.mode),R[m].lastCount+=T.length):(R[m]&&(R[m].lastCount=T.length),F[m][Z]=_(T.length,T.mode)+4+c.getCharCountIndicator(T.mode,D))}}$=M}for(var y=0;y<$.length;y++)F[$[y]].end=0;return{map:F,table:R}}($,R),I=g.find_path(G.map,"start","end"),M=[],S=1;S<I.length-1;S++)M.push(G.table[I[S]].node);return f.fromArray(function E(x){return x.reduce(function(D,R){var F=D.length-1>=0?D[D.length-1]:null;return F&&F.mode===R.mode?(D[D.length-1].data+=R.data,D):(D.push(R),D)},[])}(M))},f.rawSplit=function(D){return f.fromArray(A(D,d.isKanjiModeEnabled()))}},4792:function(N,f){var o,c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];f.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},f.getSymbolTotalCodewords=function(e){return c[e]},f.getBCHDigit=function(i){for(var e=0;0!==i;)e++,i>>>=1;return e},f.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');o=e},f.isKanjiModeEnabled=function(){return void 0!==o},f.toSJIS=function(e){return o(e)}},4406:function(N,f){f.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}},2088:function(N,f,o){var c=o(4792),i=o(4655),e=o(2259),r=o(4016),u=o(4406),d=c.getBCHDigit(7973);function p(_,E){return r.getCharCountIndicator(_,E)+4}function w(_,E){var B=0;return _.forEach(function(k){var Q=p(k.mode,E);B+=Q+k.getBitsLength()}),B}f.from=function(E,B){return u.isValid(E)?parseInt(E,10):B},f.getCapacity=function(E,B,k){if(!u.isValid(E))throw new Error("Invalid QR Code version");void 0===k&&(k=r.BYTE);var D=8*(c.getSymbolTotalCodewords(E)-i.getTotalCodewordsCount(E,B));if(k===r.MIXED)return D;var R=D-p(k,E);switch(k){case r.NUMERIC:return Math.floor(R/10*3);case r.ALPHANUMERIC:return Math.floor(R/11*2);case r.KANJI:return Math.floor(R/13);default:return Math.floor(R/8)}},f.getBestVersionForData=function(E,B){var k,Q=e.from(B,e.M);if(Array.isArray(E)){if(E.length>1)return function A(_,E){for(var B=1;B<=40;B++)if(w(_,B)<=f.getCapacity(B,E,r.MIXED))return B}(E,Q);if(0===E.length)return 1;k=E[0]}else k=E;return function g(_,E,B){for(var k=1;k<=40;k++)if(E<=f.getCapacity(k,B,_))return k}(k.mode,k.getLength(),Q)},f.getEncodedBits=function(E){if(!u.isValid(E)||E<7)throw new Error("Invalid QR Code version");for(var B=E<<12;c.getBCHDigit(B)-d>=0;)B^=7973<<c.getBCHDigit(B)-d;return E<<12|B}},3210:function(N,f,o){var c=o(6355);f.render=function(u,t,d){var g=d,p=t;void 0===g&&(!t||!t.getContext)&&(g=t,t=void 0),t||(p=function e(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),g=c.getOptions(g);var w=c.getImageWidth(u.modules.size,g),A=p.getContext("2d"),_=A.createImageData(w,w);return c.qrToImageData(_.data,u,g),function i(r,u,t){r.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=t,u.width=t,u.style.height=t+"px",u.style.width=t+"px"}(A,p,w),A.putImageData(_,0,0),p},f.renderToDataURL=function(u,t,d){var g=d;return void 0===g&&(!t||!t.getContext)&&(g=t,t=void 0),g||(g={}),f.render(u,t,g).toDataURL(g.type||"image/png",(g.rendererOpts||{}).quality)}},2334:function(N,f,o){var c=o(6355);function i(u,t){var d=u.a/255,g=t+'="'+u.hex+'"';return d<1?g+" "+t+'-opacity="'+d.toFixed(2).slice(1)+'"':g}function e(u,t,d){var g=u+t;return void 0!==d&&(g+=" "+d),g}f.render=function(t,d,g){var p=c.getOptions(d),w=t.modules.size,A=t.modules.data,_=w+2*p.margin,E=p.color.light.a?"<path "+i(p.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",B="<path "+i(p.color.dark,"stroke")+' d="'+function r(u,t,d){for(var g="",p=0,w=!1,A=0,_=0;_<u.length;_++){var E=Math.floor(_%t),B=Math.floor(_/t);!E&&!w&&(w=!0),u[_]?(A++,_>0&&E>0&&u[_-1]||(g+=w?e("M",E+d,.5+B+d):e("m",p,0),p=0,w=!1),E+1<t&&u[_+1]||(g+=e("h",A),A=0)):p++}return g}(A,w,p.margin)+'"/>',x='<svg xmlns="http://www.w3.org/2000/svg" '+(p.width?'width="'+p.width+'" height="'+p.width+'" ':"")+'viewBox="0 0 '+_+" "+_+'" shape-rendering="crispEdges">'+E+B+"</svg>\n";return"function"==typeof g&&g(null,x),x}},6355:function(N,f){function o(c){if("number"==typeof c&&(c=c.toString()),"string"!=typeof c)throw new Error("Color should be defined as hex string");var i=c.slice().replace("#","").split("");if(i.length<3||5===i.length||i.length>8)throw new Error("Invalid hex color: "+c);(3===i.length||4===i.length)&&(i=Array.prototype.concat.apply([],i.map(function(r){return[r,r]}))),6===i.length&&i.push("F","F");var e=parseInt(i.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+i.slice(0,6).join("")}}f.getOptions=function(i){i||(i={}),i.color||(i.color={});var r=i.width&&i.width>=21?i.width:void 0;return{width:r,scale:r?4:i.scale||4,margin:null==i.margin||i.margin<0?4:i.margin,color:{dark:o(i.color.dark||"#000000ff"),light:o(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},f.getScale=function(i,e){return e.width&&e.width>=i+2*e.margin?e.width/(i+2*e.margin):e.scale},f.getImageWidth=function(i,e){var r=f.getScale(i,e);return Math.floor((i+2*e.margin)*r)},f.qrToImageData=function(i,e,r){for(var u=e.modules.size,t=e.modules.data,d=f.getScale(u,r),g=Math.floor((u+2*r.margin)*d),p=r.margin*d,w=[r.color.light,r.color.dark],A=0;A<g;A++)for(var _=0;_<g;_++){var E=4*(A*g+_),B=r.color.light;A>=p&&_>=p&&A<g-p&&_<g-p&&(B=w[t[Math.floor((A-p)/d)*u+Math.floor((_-p)/d)]?1:0]),i[E++]=B.r,i[E++]=B.g,i[E++]=B.b,i[E]=B.a}}}}]);